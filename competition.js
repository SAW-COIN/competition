const m=b;(function(c,d){const l=b,e=c();while(!![]){try{const f=parseInt(l(0x1e2))/(-0x14b5+0x3*-0xbf6+0x3898*0x1)*(parseInt(l(0x272))/(-0xd*0x2cf+-0xd75*0x2+-0x1525*-0x3))+parseInt(l(0x1e5))/(-0x3e2+0x20b2+-0x1ccd)*(-parseInt(l(0x21d))/(0x5*0x355+0x1*-0x68e+-0x1*0xa17))+parseInt(l(0x279))/(0x1a62+0x1531+-0x2f8e)*(parseInt(l(0x1c7))/(0x1*-0x240b+0x755+-0x6*-0x4ca))+parseInt(l(0x1e7))/(0x17b5+0x2441+-0x3bef)+parseInt(l(0x1f7))/(-0xa27+0x9*0x429+-0x1b42)*(-parseInt(l(0x203))/(-0x25f6+0x1fdd+0x622))+-parseInt(l(0x1d2))/(-0xd06+0x1*-0xf66+0x1*0x1c76)*(parseInt(l(0x1de))/(-0x2c8+0x200+-0x1*-0xd3))+parseInt(l(0x275))/(-0x1*-0x1131+0x24af*-0x1+0x138a)*(parseInt(l(0x27a))/(-0x8d3+-0x5*0x1f4+0x12a4));if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xdea*0x37+-0xb533*0x2+-0x7aa8*-0x2));const paymentSection=document[m(0x274)](m(0x1be)),usernameElement=document[m(0x274)](m(0x233)),balanceElement=document[m(0x274)](m(0x1f8)),statusElement=document[m(0x274)](m(0x22a)),progressBar=document[m(0x274)]('progress'),progressText=document['getElementById']('participantCount'),telegram=window[m(0x235)][m(0x273)],notification=document[m(0x266)]('div');notification[m(0x1dc)]=m(0x26e),document[m(0x1f0)]['appendChild'](notification);function showNotification(c,d=m(0x1c9)){const n=m;notification[n(0x262)]=c,notification['className']=n(0x1d7)+d+n(0x215),setTimeout(()=>{const o=n;notification[o(0x1dc)]=o(0x26e);},-0x154*0x16+0x21b5+-0x269*-0x3);}function sendNotification(c){setTimeout(()=>{const p=b;try{telegram['showAlert'](c);}catch(d){console['error'](p(0x237),d);}},0x28*-0x3e+0xb0a+-0x2e);}function formatUsername(c){const q=m,d=0x5*-0x71+0x225e+-0x2024;return c[q(0x22f)]>d?c[q(0x238)](-0x23ee+0x1cad+-0x3*-0x26b,d)+'...':c;}function formatBalance(c){const r=m;if(c>=0x6adb5a55ce*0x1+0xc415c6074e+-0x461c7b4d1c)return(c/(0x1b366e8480+0x2ea*-0x132de495+-0x2b95a870f3*-0x6))['toFixed'](0x5a6*-0x5+-0x2308+0x3f48)+'T';else{if(c>=-0x1*-0x3fdc399+-0x17*-0x22ae9d9+0x5c203e8)return(c/(-0x57e4e717+-0x20bf8894+0xb43f39ab))[r(0x1d6)](0x199b+-0xb9d*-0x1+-0x2536)+'B';else{if(c>=-0x158185+0x6*-0x2b98e+0x13*0x2cba3)return(c/(0x1cf21+-0x13ce7*-0x2+-0x210d*-0x55))[r(0x1d6)](-0x2*0xff9+-0x1f92*0x1+0x3f86)+'M';else{if(c>=-0x1*-0x1965+-0x1cc5+0x748)return(c/(0xcd4+-0x158f+0xca3))[r(0x1d6)](0xd7f+0x2*-0x114a+0x1517)+'K';}}}return c[r(0x227)]();}async function loginUser(c){const s=m,d=c+s(0x1f1),e=s(0x1ed)+c;try{const {data:f,error:g}=await supabase['auth'][s(0x1d1)]({'email':d,'password':e});if(g){console[s(0x1f4)](s(0x1c1));const {data:h,error:i}=await supabase[s(0x23f)]['signUp']({'email':d,'password':e});if(i)throw new Error(s(0x1e4)+i[s(0x22b)]);return console['log']('New\x20user\x20created\x20successfully:',h[s(0x24f)]['id']),{'telegramId':c,'email':d};}return console['log'](s(0x221),f[s(0x24f)]),{'telegramId':c,'email':d};}catch(j){console[s(0x1c9)](s(0x21c),j[s(0x22b)]);throw j;}}function a(){const P=['requestFullscreen','notification','floor','Failed\x20to\x20register\x20participation.','7540338527:AAH4A_gOp_FTR3jRdtNa-QcfCCLRMIN0FDo','24ITIzAB','WebApp','getElementById','107556UvGgDb','You\x20have\x20no\x20chances\x20to\x20win!\x20Join\x20now\x20and\x20seize\x20your\x20opportunity!','Failed\x20to\x20fetch\x20Telegram\x20data','‚ùå\x20Error\x20fetching\x20balance:\x20','5dfotRs','338tJvTnK','UQCpMg6TV_zE34ao-Ii2iz5M6s5Qp8OIVWa3YbsB9KwxzwCJ','Failed\x20to\x20connect\x20wallet:\x20','\x20TON</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22subscribeVIP(','Enhanced\x20perks\x20and\x20increased\x20chances.','onEvent','style','paymentSection','location','telegram_id','User\x20not\x20found\x20in\x20auth\x20system.\x20Creating\x20a\x20new\x20account.','innerHTML','is_banned','Wallet\x20disconnected\x20successfully.','\x20TON','Wallet\x20connection\x20error:','1507278kzMUVW','price','error','isFullscreen','backgroundImage','Error\x20connecting\x20to\x20wallet:','addEventListener','fullscreen-container','Error\x20fetching\x20balance:','https://api.telegram.org/bot','signInWithPassword','240270BSsmJR','0.00\x20','VIP\x20Platinum','You\x27re\x20ahead\x20of\x2050%\x20of\x20participants!\x20Keep\x20going,\x20your\x20victory\x20is\x20within\x20reach!','toFixed','notification\x20','from','Error\x20notifying\x20admin:\x20','Error\x20checking\x20ban\x20status:','join','className','VIP\x20Participant','143KOlavv','DOMContentLoaded','Error\x20making\x20payment:','alt','19489xMdAfG','connectWallet','Failed\x20to\x20register\x20user:\x20','801BuhFFI','Participation\x20confirmed\x20successfully!','2119082EwodHI',')\x22>Subscribe</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22vip-features\x22>Features:\x20','hidden','Wallet\x20is\x20connected.','</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20','appendChild','password_','Banned','üü¢\x20New\x20Regular\x20Participation:\x0a\x0aüë§\x20ID\x20:\x20','body','@SawToken.coin','‚ùå\x20Payment\x20failed:\x20','backgroundClip','log','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px\x2030px;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fff;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#000;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x0a\x20\x20\x20\x20','sendTransaction','2061352EvaPzc','balance','fullscreen','linear-gradient(to\x20right,\x20#FFD700,\x20#8A2BE2)','Error\x20','img','N/A','Regular\x20Participant','https://saw-coin.github.io/image/bloomer.jpg','.container','cssText','#101010','9DKFTTL','user_','color','min','description','Failed\x20to\x20update\x20progress\x20bar.','vipSection','Failed\x20to\x20fetch\x20user\x20balance.','Contact\x20support','querySelector','Failed\x20to\x20insert\x20user\x20data:\x20','/sendMessage','wallet','https://tonapi.io/v2/accounts/','Telegram\x20API\x20Error:','Invalid\x20balance\x20data.','tonaccount','VIP\x20Gold','\x20show','POST','Not\x20Connected','#2D83EC','transparent','button','initDataUnsafe','Error\x20logging\x20in\x20or\x20registering\x20user:','4268zXLWiw','now','\x0a\x0aüìõ\x20Username\x20:\x20@','info','User\x20logged\x20in\x20successfully:','Premium\x20perks\x20and\x20maximum\x20chances.','insert','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22Statustxtvip\x22>\x20Get\x20more\x20chances\x20to\x20win\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22Statustxtprogressvip\x22>\x20VIP\x20subscriptions\x20allow\x20you\x20to\x20increase\x20your\x20chances\x20of\x20winning\x20the\x20weekly\x20lottery\x20</p>\x0a\x0a\x20\x20\x20\x20','Wallet\x20is\x20already\x20connected.','Error\x20updating\x20participation:','toString','account','maybeSingle','participationStatus','message','Error\x20fetching\x20Telegram\x20data:','https://t.me/X7X_FLASH','‚ùå\x20VIP\x20subscription\x20failed:\x20','length','üåü\x20New\x20VIP\x20Subscription:\x0a\x0aüë§\x20ID\x20:\x20','Failed\x20to\x20disconnect\x20wallet:\x20','banOverlay','username','payNow','Telegram','users','Error\x20displaying\x20Telegram\x20alert:','slice','Statustxtprogress','click','success','width:\x20170px;\x20margin-bottom:\x2020px;','href','add','auth','Your\x20account\x20has\x20been\x20banned\x20for\x20violating\x20policies.\x20If\x20you\x20think\x20this\x20is\x20an\x20error,\x20please\x20contact\x20support.','json','application/json','width','Error\x20updating\x20progress\x20bar:','No\x20balance\x20found\x20for\x20this\x20user.','Error','remove','block','red','\x20Participants','is_participating','fullscreenChanged','disconnect','single','user','Failed\x20to\x20activate\x20full-screen\x20mode:','.top-bar','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100vw;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100vh;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,\x200,\x200,\x201);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2099999;\x0a\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x0a\x20\x20\x20\x20','setHeaderColor','https://sawcoin.vercel.app/json/tonconnect-manifest.json','‚úÖ\x20VIP\x20subscription\x20successful!','classList','TonConnectUI','Admin\x20notified\x20successfully:','You\x27re\x20ahead\x20of\x2080%\x20of\x20all\x20participants!\x20Get\x20ready\x20to\x20win\x20big!','The\x20minimum\x20participants\x20have\x20been\x20reached!','ton-connect','overflow','Error\x20fetching\x20user\x20balance:','Wallet\x20Address:','display','none','textContent','font-size:\x2017px;\x20margin-bottom:\x2020px;','Error\x20subscribing\x20to\x20VIP:','address','createElement','vip_status','select','stringify','ready','No\x20user\x20data\x20found\x20in\x20database.\x20Adding\x20user.','name'];a=function(){return P;};return a();}const TELEGRAM_BOT_TOKEN=m(0x271),ADMIN_TELEGRAM_ID=-0x10237b3c5+-0x483b69e+0x29ba8db9f;async function addUserToDatabase(c,d){const t=m;try{const {data:e,error:f}=await supabase[t(0x1d8)](t(0x236))[t(0x268)]('*')['eq'](t(0x1c0),c)[t(0x229)]();if(f)throw new Error('Error\x20fetching\x20user\x20data:\x20'+f[t(0x22b)]);if(!e){console[t(0x1f4)](t(0x26b));const {error:g}=await supabase['from']('users')[t(0x223)]({'telegram_id':c,'email':d,'is_participating':![],'vip_status':![]});if(g)throw new Error(t(0x20d)+g[t(0x22b)]);}}catch(h){console[t(0x1c9)]('Error\x20adding\x20user\x20to\x20database:',h[t(0x22b)]);throw h;}}async function fetchUserDataFromTelegram(){const u=m;try{const c=window[u(0x235)]['WebApp'];c[u(0x26a)]();const d=c['initDataUnsafe'][u(0x24f)]?.['id'];if(!d)throw new Error('Telegram\x20user\x20ID\x20is\x20missing');const e=c[u(0x21b)][u(0x24f)]?.[u(0x233)]||u(0x204)+d;usernameElement[u(0x262)]=formatUsername(e);const f=d+u(0x1f1),g=await loginUser(d);await addUserToDatabase(d,f),await fetchUserBalance(d),await updateProgressBar();}catch(h){console[u(0x1c9)](u(0x22c),h[u(0x22b)]),showNotification(h[u(0x22b)]||u(0x277),u(0x1c9));}}async function fetchUserBalance(c){const v=m;try{const {data:d,error:e}=await supabase['from']('users')[v(0x268)]('balance,\x20is_participating,\x20vip_status')['eq'](v(0x1c0),c)['single']();if(e)throw new Error(e[v(0x22b)]);if(d){balanceElement['textContent']=formatBalance(d[v(0x1f8)]);const f=document['getElementById'](v(0x239));if(d['vip_status'])statusElement[v(0x262)]=v(0x1dd),statusElement['style'][v(0x1cb)]=v(0x1fa),statusElement[v(0x1bd)]['color']=v(0x219),statusElement[v(0x1bd)][v(0x1f3)]='text',f[v(0x262)]=v(0x25a),paymentSection[v(0x1bd)][v(0x260)]=v(0x261),document[v(0x274)](v(0x209))[v(0x1bd)]['display']=v(0x261);else d[v(0x24b)]?(statusElement['textContent']=v(0x1fe),statusElement[v(0x1bd)][v(0x205)]=v(0x218),f[v(0x262)]=v(0x1d5),paymentSection[v(0x1bd)][v(0x260)]=v(0x261)):(statusElement['textContent']='Not\x20Participated',statusElement[v(0x1bd)][v(0x205)]=v(0x249),f[v(0x262)]=v(0x276),paymentSection[v(0x1bd)][v(0x260)]=v(0x248));}else balanceElement[v(0x262)]='0',showNotification(v(0x245),v(0x1c9));}catch(g){console[v(0x1c9)](v(0x25e),g),balanceElement[v(0x262)]=v(0x246),showNotification(v(0x20a),'error');}}async function updateProgressBar(){const w=m;try{const {data:c,error:d}=await supabase[w(0x1d8)]('users')[w(0x268)]('*')['eq']('is_participating',!![]);if(d)throw new Error(d['message']);const {data:e,error:f}=await supabase[w(0x1d8)](w(0x236))['select']('*')['eq'](w(0x267),!![]);if(f)throw new Error(f['message']);const g=0x1*-0x9a4+0x70c+0x6b2,h=c[w(0x22f)]+e['length']*(-0x1883+0x7*0x4a9+-0x817)+g,i=0x45*-0x97+0x1*0x7c9+0x3666,j=Math[w(0x206)](h/ i*(0x5f3*-0x1+0x1*-0xf43+0x7*0x316),0x160a+0x1671+-0x2c17);progressText[w(0x262)]=h+w(0x24a),progressBar[w(0x1bd)][w(0x243)]=j+'%',h>=i&&showNotification(w(0x25b),'success');}catch(k){console['error'](w(0x244),k),showNotification(w(0x208),'error');}}import{createClient}from'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';import{SUPABASE_URL,SUPABASE_ANON_KEY}from'./Scripts/config.js';const supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY);async function notifyAdminForRegular(c,d){const x=m,e=getWalletAddress(),f=x(0x1ef)+c+x(0x21f)+(d||x(0x1fd))+'\x0a\x0aüíº\x20Wallet\x20:\x20https://tonviewer.com/'+e;await sendTelegramNotification(f);}async function notifyAdminForVIP(c,d,e){const y=m,f=getWalletAddress(),g=y(0x230)+c+y(0x21f)+(d||y(0x1fd))+'\x0a\x0aüíº\x20Wallet\x20:\x20https://tonviewer.com/'+f+'\x0a\x0aüí∞\x20Paid\x20:\x20'+e+y(0x1c5);await sendTelegramNotification(g);}async function sendTelegramNotification(c){const z=m,d=z(0x1d0)+TELEGRAM_BOT_TOKEN+z(0x20e),e={'chat_id':ADMIN_TELEGRAM_ID,'text':c};try{const f=await fetch(d,{'method':z(0x216),'headers':{'Content-Type':z(0x242)},'body':JSON[z(0x269)](e)}),g=await f['json']();!g['ok']?(console[z(0x1c9)](z(0x211),g[z(0x207)]),showNotification('Failed\x20to\x20notify\x20admin:\x20'+g[z(0x207)],z(0x1c9))):console[z(0x1f4)](z(0x259),g);}catch(h){console[z(0x1c9)]('Error\x20notifying\x20admin:',h['message']),showNotification(z(0x1d9)+h['message'],z(0x1c9));}}async function ensureWalletConnected(){const A=m;try{walletAddress=tonConnectUI['wallet']?tonConnectUI[A(0x20f)][A(0x228)][A(0x265)]:null;if(!walletAddress){showNotification('Please\x20connect\x20your\x20wallet\x20to\x20proceed.','error'),await connectToWallet(),walletAddress=tonConnectUI['wallet']?tonConnectUI[A(0x20f)]['account'][A(0x265)]:null;if(!walletAddress)throw new Error('Wallet\x20connection\x20required\x20to\x20proceed.');}return showNotification(A(0x1ea),'success'),!![];}catch(c){return console[A(0x1c9)](A(0x1c6),c),showNotification(c['message'],'error'),![];}}async function registerParticipation(){const B=m,c=window['Telegram'][B(0x273)],d=c[B(0x21b)][B(0x24f)]?.['id'],e=c[B(0x21b)][B(0x24f)]?.[B(0x233)]||B(0x204)+d;try{const {data:f,error:g}=await supabase[B(0x1d8)](B(0x236))['update']({'is_participating':!![]})['eq'](B(0x1c0),d);if(g)throw new Error(g[B(0x22b)]);statusElement[B(0x262)]='Regular\x20Participant',statusElement[B(0x1bd)][B(0x205)]=B(0x218),await updateProgressBar(),await notifyAdminForRegular(d,e),showNotification(B(0x1e6),B(0x23b));}catch(h){console['error'](B(0x226),h),showNotification(B(0x270),B(0x1c9));}}window[m(0x235)][m(0x273)][m(0x254)](m(0x202));const tonConnectUI=new TON_CONNECT_UI[(m(0x258))]({'manifestUrl':m(0x255),'buttonRootId':m(0x25c)});let userBalance=-0x43*-0x39+0x1939+-0x2824,walletAddress=null;async function connectToWallet(){const C=m;try{if(tonConnectUI[C(0x20f)]){showNotification(C(0x225),C(0x220));return;}const c=await tonConnectUI[C(0x1e3)]();walletAddress=c[C(0x228)][C(0x265)],showNotification('Wallet\x20connected\x20successfully!',C(0x23b)),console['log'](C(0x25f),walletAddress),await updateWalletBalance();}catch(d){console[C(0x1c9)](C(0x1cc),d[C(0x22b)]),showNotification(C(0x27c)+d['message'],C(0x1c9));}}function b(c,d){const e=a();return b=function(f,g){f=f-(0x80f+-0xa7a+0x13*0x38);let h=e[f];return h;},b(c,d);}async function disconnectWallet(){const D=m;try{await tonConnectUI[D(0x24d)](),walletAddress=null,userBalance=-0x129a*-0x1+0xdb1+0x204b*-0x1,document[D(0x274)](D(0x213))[D(0x1c2)]=D(0x217),showNotification(D(0x1c4),D(0x220));}catch(c){console[D(0x1c9)]('Error\x20disconnecting\x20wallet:',c[D(0x22b)]),showNotification(D(0x231)+c[D(0x22b)],D(0x1c9));}}function getWalletAddress(){const E=m;return tonConnectUI['wallet']?tonConnectUI[E(0x20f)]['account'][E(0x265)]:'Not\x20Connected';}tonConnectUI['uiOptions']={'twaReturnUrl':'https://t.me/SAWCOIN_BOT/GAME'};async function makePayment(){const F=m;try{const c=await ensureWalletConnected();if(!c){await connectToWallet();return;}const d=-0x258d+-0x1*-0x1127+0x1467*0x1,e=await checkUserBalance(d);if(!e)return;const f=F(0x27b),g={'validUntil':Math[F(0x26f)](Date[F(0x21e)]()/(-0xe59*0x1+0x13cd+-0x18c))+(-0x2377+0x65b+-0x7dd*-0x4),'messages':[{'address':f,'amount':(d*(0xf*-0x259ff02+0xbe9086a*0x6+0xdf*0x1ae19e))[F(0x227)]()}]};await tonConnectUI[F(0x1f6)](g),setTimeout(()=>{sendNotification('‚úÖ\x20Payment\x20successful!\x20You\x20have\x20been\x20registered.');},0x244b+0x29*0xd3+-0x4422),await registerParticipation();}catch(h){console['error'](F(0x1e0),h),sendNotification(F(0x1f2)+h[F(0x22b)]);}}document['getElementById'](m(0x25c))[m(0x1cd)](m(0x23a),connectToWallet),document['getElementById'](m(0x234))[m(0x1cd)](m(0x23a),makePayment);function renderVIPLevels(){const G=m,c=[{'id':0x1,'name':G(0x214),'price':0xa,'features':G(0x27e)},{'id':0x2,'name':G(0x1d4),'price':0x1e,'features':G(0x222)}],d=document['getElementById'](G(0x209));d[G(0x1c2)]=G(0x224),d[G(0x1c2)]+=c['map'](e=>'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22vip-level\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+e[G(0x26c)]+'</h3>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22vip-Price\x22>\x20Price\x20:\x20'+e[G(0x1c8)]+G(0x27d)+e['price']+G(0x1e8)+e['features']+G(0x1eb))[G(0x1db)]('');}window['subscribeVIP']=async function(c){const H=m,d=window[H(0x235)][H(0x273)],e=d['initDataUnsafe']['user']?.['id'],f=d['initDataUnsafe'][H(0x24f)]?.['username']||H(0x204)+e;try{const g=await ensureWalletConnected();if(!g){await connectToWallet();return;}const h=await checkUserBalance(c);if(!h)return;const i={'validUntil':Math['floor'](Date[H(0x21e)]()/(-0xbcf*0x3+0x45a+0x22fb))+(-0x152*0x19+-0x1b89+0x3ee3),'messages':[{'address':H(0x27b),'amount':(c*(-0x154889*-0x13d+0xf8c0047*0x1+0xa64f9*0x1b4))[H(0x227)]()}]};await tonConnectUI['sendTransaction'](i);const {error:j}=await supabase[H(0x1d8)]('users')['update']({'vip_status':!![]})['eq']('telegram_id',e);if(j)throw new Error(j[H(0x22b)]);await notifyAdminForVIP(e,f,c),sendNotification(H(0x256));}catch(k){console['error'](H(0x264),k),sendNotification(H(0x22e)+k[H(0x22b)]);}},document[m(0x1cd)](m(0x1df),renderVIPLevels),document[m(0x1cd)]('DOMContentLoaded',()=>{const I=m,c=document['querySelector'](I(0x251)),d=document[I(0x20c)](I(0x200));function e(){const J=I;Telegram[J(0x273)][J(0x1ca)]?(c[J(0x257)]['add'](J(0x1f9)),d[J(0x257)][J(0x23e)](J(0x1ce))):(c[J(0x257)][J(0x247)](J(0x1f9)),d[J(0x257)][J(0x247)](J(0x1ce)));}e(),Telegram[I(0x273)][I(0x27f)](I(0x24c),e);try{Telegram[I(0x273)][I(0x26d)]();}catch(f){console[I(0x1c9)](I(0x250),f);}});async function checkAndHandleBan(){const K=m,c=window['Telegram'][K(0x273)],d=c[K(0x21b)][K(0x24f)]?.['id'];try{const {data:e,error:f}=await supabase[K(0x1d8)]('users')[K(0x268)](K(0x1c3))['eq'](K(0x1c0),d)[K(0x24e)]();if(f)return console[K(0x1c9)](K(0x1da),f[K(0x22b)]),alert('An\x20error\x20occurred\x20while\x20checking\x20your\x20account\x20status.\x20Please\x20try\x20again\x20later.'),![];if(e?.[K(0x1c3)])return showBanScreen(),!![];return![];}catch(g){return console[K(0x1c9)]('Unexpected\x20error\x20while\x20checking\x20ban\x20status:',g),![];}}function showBanScreen(){const L=m,c=document[L(0x266)]('div');c['id']=L(0x232),c[L(0x1bd)][L(0x201)]=L(0x252);const d=document[L(0x266)]('div');d['style'][L(0x201)]=L(0x253);const e=document['createElement'](L(0x1fc));e['src']=L(0x1ff),e[L(0x1e1)]=L(0x1ee),e['style'][L(0x201)]=L(0x23c);const f=document[L(0x266)]('p');f[L(0x262)]=L(0x240),f[L(0x1bd)][L(0x201)]=L(0x263);const g=document[L(0x266)](L(0x21a));g[L(0x262)]=L(0x20b),g['style'][L(0x201)]=L(0x1f5),g['onclick']=()=>{const M=L;window[M(0x1bf)][M(0x23d)]=M(0x22d);},d['appendChild'](e),d[L(0x1ec)](f),d[L(0x1ec)](g),c[L(0x1ec)](d),document['body'][L(0x1ec)](c),document['body'][L(0x1bd)][L(0x25d)]=L(0x1e9);}document[m(0x1cd)](m(0x1df),async()=>{const c=await checkAndHandleBan();if(c)return;});async function checkUserBalance(c){await updateWalletBalance();if(userBalance<c)return sendNotification('‚ùå\x20Insufficient\x20balance!\x20Please\x20top\x20up\x20your\x20wallet\x20and\x20try\x20again.'),![];return!![];}async function updateWalletBalance(){const N=m;if(!walletAddress){document[N(0x274)](N(0x213))[N(0x1c2)]=N(0x1d3)+getTonIcon(),userBalance=0xf33+0xb75*0x2+0x261d*-0x1;return;}try{const c=await fetch(N(0x210)+walletAddress);if(!c['ok'])throw new Error('HTTP\x20error!\x20Status:\x20'+c['status']);const d=await c[N(0x241)]();if(!d||d[N(0x1f8)]===undefined)throw new Error(N(0x212));userBalance=parseFloat(d['balance'])/(-0x3877a16c+-0x67ac27*-0xe+0x6e67014a),document[N(0x274)](N(0x213))[N(0x1c2)]=userBalance[N(0x1d6)](0x605+0x1f42+-0xc6b*0x3)+'\x20'+getTonIcon();}catch(e){console[N(0x1c9)](N(0x1cf),e['message']),userBalance=0x2ff*0x2+0x14*0x143+-0x1f3a,document[N(0x274)](N(0x213))[N(0x1c2)]=N(0x1fb)+getTonIcon(),sendNotification(N(0x278)+e[N(0x22b)]);}}function getTonIcon(){return'\x0a\x0a\x20\x20\x20\x20<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x221.5\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20<path\x20stroke=\x22none\x22\x20d=\x22M0\x200h24v24H0z\x22\x20fill=\x22none\x22/>\x0a\x0a\x20\x20\x20\x20\x20\x20<path\x20d=\x22M17\x208v-3a1\x201\x200\x200\x200\x20-1\x20-1h-10a2\x202\x200\x200\x200\x200\x204h12a1\x201\x200\x200\x201\x201\x201v3m0\x204v3a1\x201\x200\x200\x201\x20-1\x201h-12a2\x202\x200\x200\x201\x20-2\x20-2v-12\x22\x20/>\x0a\x0a\x20\x20\x20\x20\x20\x20<path\x20d=\x22M20\x2012v4h-4a2\x202\x200\x200\x201\x200\x20-4h4\x22\x20/>\x0a\x0a\x20\x20\x20\x20</svg>\x0a\x0a\x20\x20';}document[m(0x1cd)](m(0x1df),async()=>{const O=m;await fetchUserDataFromTelegram(),walletAddress=getWalletAddress(),walletAddress&&walletAddress!==O(0x217)&&await updateWalletBalance();});
