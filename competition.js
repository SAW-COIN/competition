const m=b;(function(c,d){const l=b,e=c();while(!![]){try{const f=parseInt(l(0x13d))/(0x22*0x56+-0x1177+-0xc*-0x81)*(-parseInt(l(0x11a))/(-0x30*-0x20+0x7df+-0x1fb*0x7))+-parseInt(l(0x12b))/(0x452+-0x26d2*0x1+0x3*0xb81)+parseInt(l(0x15a))/(0x920+-0x1417+0xafb)+parseInt(l(0x166))/(-0x9ad*0x3+0x268b*0x1+-0x97f)+parseInt(l(0x181))/(0x8a5*-0x1+0x412+0x499)+parseInt(l(0x13e))/(0x1d4e+-0x1*0x926+-0x1421)+parseInt(l(0x131))/(0x2*0x1bf+-0x3*-0xb99+0x1*-0x2641)*(parseInt(l(0x139))/(-0x9f7+-0xf59*-0x2+-0x14b2));if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,-0x25*-0x731+0x7*0x1ee83+-0x7be58));const TELEGRAM_BOT_TOKEN=m(0x19b),ADMIN_TELEGRAM_ID=0x8*0x3d643e3d+0x303b7f2a1+0xe8559*-0x3b15,paymentSection=document['getElementById'](m(0x1a8)),usernameElement=document[m(0x178)](m(0x18e)),balanceElement=document['getElementById'](m(0x152)),statusElement=document[m(0x178)](m(0x136)),progressBar=document[m(0x178)](m(0x1b3)),progressText=document[m(0x178)](m(0x190)),notification=document[m(0x163)](m(0x14d));notification['className']='notification',document['body'][m(0x1af)](notification);function showNotification(c,d='error'){const n=m;notification[n(0x1ae)]=c,notification[n(0x141)]=n(0x177)+d+n(0x194),setTimeout(()=>{const o=n;notification[o(0x141)]='notification';},-0x1*-0x1949+0x1a9d+-0x282e);}function formatUsername(c){const p=m,d=0x1d84+-0x35*-0x30+-0x276f;return c[p(0x16b)]>d?c[p(0x1b9)](0xfd8+0x889+0x1*-0x1861,d)+p(0x1b4):c;}function formatBalance(c){const q=m;if(c>=0x10248cd632*0x7+0x3c4bf0acd5+0x1*0x3b88da87cd)return(c/(0x1860cb44b27+-0x11f1538e07+-0x8b46bbad20))[q(0x11e)](0xc3b+-0x1673+0xa3a)+'T';else{if(c>=0x2339b2d7+0x1237e1*0x15e+-0x874e75*0x1)return(c/(-0x51d3a6b*0x1+-0x249c34*0x83+0x5373f307))[q(0x11e)](0x17d1+-0xf*0x6f+-0x114e)+'B';else{if(c>=0x81516+-0x6989a+0xdc5c4)return(c/(-0xc070d*-0x1+0x1deda0+-0x1ab26d))[q(0x11e)](-0x4e1+0x1*-0x15dd+0x1ac0)+'M';else{if(c>=-0x125*-0xa+-0x1583+0xdf9)return(c/(-0x3*0x7b2+0x129e*0x1+-0x4*-0x218))['toFixed'](0x1*-0x2477+-0x1*0x1091+-0x49*-0xba)+'K';}}}return c[q(0x153)]();}async function loginUser(c){const r=m,d=c+'@SawToken.coin',e=r(0x147)+c;try{const {data:f,error:g}=await supabase[r(0x176)][r(0x161)]({'email':d,'password':e});if(g){console[r(0x185)]('User\x20not\x20found\x20in\x20auth\x20system.\x20Creating\x20a\x20new\x20account.');const {data:h,error:i}=await supabase[r(0x176)][r(0x192)]({'email':d,'password':e});if(i)throw new Error(r(0x11b)+i['message']);return console[r(0x185)]('New\x20user\x20created\x20successfully:',h[r(0x13a)]['id']),{'telegramId':c,'email':d};}return console['log'](r(0x18f),f[r(0x13a)]),{'telegramId':c,'email':d};}catch(j){console[r(0x180)](r(0x14b),j[r(0x19f)]);throw j;}}async function addUserToDatabase(c,d){const s=m;try{const {data:e,error:f}=await supabase[s(0x195)]('users')['select']('*')['eq'](s(0x174),c)[s(0x19d)]();if(f)throw new Error(s(0x157)+f[s(0x19f)]);if(!e){console[s(0x185)](s(0x130));const {error:g}=await supabase[s(0x195)](s(0x170))[s(0x160)]({'telegram_id':c,'email':d,'is_participating':![],'vip_status':![]});if(g)throw new Error(s(0x17e)+g[s(0x19f)]);}}catch(h){console[s(0x180)]('Error\x20adding\x20user\x20to\x20database:',h[s(0x19f)]);throw h;}}async function fetchUserDataFromTelegram(){const t=m;try{const c=window[t(0x149)]['WebApp'];c[t(0x1ac)]();const d=c[t(0x198)]['user']?.['id'];if(!d)throw new Error(t(0x12d));const e=c[t(0x198)][t(0x13a)]?.[t(0x18e)]||t(0x1a2)+d;usernameElement['textContent']=formatUsername(e);const f=d+t(0x125),g=await loginUser(d);await addUserToDatabase(d,f),await fetchUserBalance(d),await updateProgressBar();}catch(h){console[t(0x180)]('Error\x20fetching\x20Telegram\x20data:',h['message']),showNotification(h[t(0x19f)]||t(0x1ab),t(0x180));}}async function fetchUserBalance(c){const u=m;try{const {data:d,error:e}=await supabase['from'](u(0x170))[u(0x14f)](u(0x1b8))['eq'](u(0x174),c)[u(0x158)]();if(e)throw new Error(e[u(0x19f)]);if(d){balanceElement['textContent']=formatBalance(d[u(0x152)]);const f=document[u(0x178)](u(0x1b6));if(d['vip_status'])statusElement['textContent']='VIP\x20Participant',statusElement[u(0x1a7)]['backgroundImage']=u(0x171),statusElement[u(0x1a7)][u(0x121)]=u(0x1a0),statusElement['style'][u(0x1ba)]=u(0x1b7),f[u(0x1ae)]=u(0x17d),paymentSection[u(0x1a7)][u(0x148)]='none',document['getElementById'](u(0x1aa))[u(0x1a7)]['display']=u(0x16f);else d[u(0x15c)]?(statusElement[u(0x1ae)]=u(0x13b),statusElement[u(0x1a7)][u(0x121)]=u(0x138),f[u(0x1ae)]=u(0x182),paymentSection[u(0x1a7)]['display']=u(0x16f)):(statusElement[u(0x1ae)]='Not\x20Participated',statusElement[u(0x1a7)][u(0x121)]=u(0x1a3),f[u(0x1ae)]=u(0x124),paymentSection['style']['display']=u(0x179));}else balanceElement[u(0x1ae)]='0',showNotification(u(0x12c),u(0x180));}catch(g){console['error'](u(0x142),g),balanceElement[u(0x1ae)]=u(0x13c),showNotification(u(0x1b1),u(0x180));}}async function updateProgressBar(){const v=m;try{const {data:c,error:d}=await supabase[v(0x195)](v(0x170))[v(0x14f)]('*')['eq'](v(0x15c),!![]);if(d)throw new Error(d['message']);const {data:e,error:f}=await supabase[v(0x195)](v(0x170))[v(0x14f)]('*')['eq']('vip_status',!![]);if(f)throw new Error(f[v(0x19f)]);const g=-0x2b*-0xdb+0x19fa+-0x3aa9,h=c[v(0x16b)]+e[v(0x16b)]*(-0x6f9+-0xd45*-0x2+-0x4*0x4e3)+g,i=0x5ed*-0x1+0x15a*0x2e+-0x18ff,j=Math['min'](h/ i*(0x1*-0x2049+0x5*0x9f+-0x5ea*-0x5),-0xd98+-0x1ddf+0x2bdb);progressText[v(0x1ae)]=h+v(0x150),progressBar[v(0x1a7)][v(0x191)]=j+'%',h>=i&&showNotification(v(0x17a),v(0x132));}catch(k){console[v(0x180)](v(0x175),k),showNotification(v(0x164),v(0x180));}}import{createClient}from'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';import{SUPABASE_URL,SUPABASE_ANON_KEY}from'./Scripts/config.js';function a(){const H=['UQCpMg6TV_zE34ao-Ii2iz5M6s5Qp8OIVWa3YbsB9KwxzwCJ','28YtSPPo','Failed\x20to\x20register\x20user:\x20','</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20','stringify','toFixed','\x0a\x0aðŸ“›\x20Username\x20:\x20@','sendTransaction','color','VIP\x20subscription\x20successful!','application/json','You\x20have\x20no\x20chances\x20to\x20win!\x20Join\x20now\x20and\x20seize\x20your\x20opportunity!','@SawToken.coin','Error\x20connecting\x20to\x20wallet:','\x0a\x0aðŸ’°\x20Paid\x20:\x20','POST','ton-connect','uiOptions','2391825RperNq','No\x20balance\x20found\x20for\x20this\x20user.','Telegram\x20user\x20ID\x20is\x20missing','ðŸŸ¢\x20New\x20Regular\x20Participation:\x0a\x0aðŸ‘¤\x20ID\x20:\x20','description','No\x20user\x20data\x20found\x20in\x20database.\x20Adding\x20user.','158320mcXDkv','success','https://sawcoin.vercel.app/json/tonconnect-manifest.json','Enhanced\x20perks\x20and\x20increased\x20chances.',')\x22>Subscribe</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22vip-features\x22>Features:\x20','participationStatus','\x20TON</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22subscribeVIP(','#2D83EC','45PLOifg','user','Regular\x20Participant','Error','25845hbrPRn','1259664zWdPXW','Participation\x20confirmed\x20successfully!','payNow','className','Error\x20fetching\x20user\x20balance:','#101010','Failed\x20to\x20register\x20participation.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22Statustxtvip\x22>\x20Get\x20more\x20chances\x20to\x20win\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22Statustxtprogressvip\x22>\x20VIP\x20subscriptions\x20allow\x20you\x20to\x20increase\x20your\x20chances\x20of\x20winning\x20the\x20weekly\x20lottery\x20</p>\x0a\x0a\x20\x20\x20\x20','.container','password_','display','Telegram','DOMContentLoaded','Error\x20logging\x20in\x20or\x20registering\x20user:','getItem','div','floor','select','\x20Participants','wallet','balance','toString','name','\x0a\x0aðŸ’¼\x20Wallet\x20:\x20https://tonviewer.com/','classList','Error\x20fetching\x20user\x20data:\x20','single','Wallet\x20connected\x20successfully!','1841080CdydcY','Error\x20making\x20payment:','is_participating','Failed\x20to\x20connect\x20wallet:\x20','\x20TON','https://t.me/SAWCOIN_BOT/GAME','insert','signInWithPassword','onEvent','createElement','Failed\x20to\x20update\x20progress\x20bar.','addEventListener','1691790wvGpVk','Failed\x20to\x20notify\x20admin:\x20','subscribeVIP','Premium\x20perks\x20and\x20maximum\x20chances.','json','length','TonConnectUI','Failed\x20to\x20activate\x20full-screen\x20mode:','click','none','users','linear-gradient(to\x20right,\x20#FFD700,\x20#8A2BE2)','innerHTML','</h3>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22vip-Price\x22>\x20Price\x20:\x20','telegram_id','Error\x20updating\x20progress\x20bar:','auth','notification\x20','getElementById','block','The\x20minimum\x20participants\x20have\x20been\x20reached!','ðŸŒŸ\x20New\x20VIP\x20Subscription:\x0a\x0aðŸ‘¤\x20ID\x20:\x20','VIP\x20subscription\x20failed:\x20','You\x27re\x20ahead\x20of\x2080%\x20of\x20all\x20participants!\x20Get\x20ready\x20to\x20win\x20big!','Failed\x20to\x20insert\x20user\x20data:\x20','requestFullscreen','error','3170262iLOwts','You\x27re\x20ahead\x20of\x2050%\x20of\x20participants!\x20Keep\x20going,\x20your\x20victory\x20is\x20within\x20reach!','Basic\x20perks\x20and\x20increased\x20chances.','Wallet\x20Address:','log','querySelector','N/A','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22vip-level\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','Wallet\x20is\x20already\x20connected.','remove','https://api.telegram.org/bot','walletAddress','500000000','username','User\x20logged\x20in\x20successfully:','participantCount','width','signUp','VIP\x20Silver','\x20show','from','fullscreen','Error\x20updating\x20participation:','initDataUnsafe','map','Admin\x20notified\x20successfully:','7540338527:AAH4A_gOp_FTR3jRdtNa-QcfCCLRMIN0FDo','address','maybeSingle','.user-name','message','transparent','add','user_','red','features','update','price','style','paymentSection','WebApp','vipSection','Failed\x20to\x20fetch\x20Telegram\x20data','ready','fullscreen-container','textContent','appendChild','Error\x20notifying\x20admin:\x20','Failed\x20to\x20fetch\x20user\x20balance.','Error\x20subscribing\x20to\x20VIP:','progress','...','connectWallet','Statustxtprogress','text','balance,\x20is_participating,\x20vip_status','slice','backgroundClip'];a=function(){return H;};return a();}const supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY);async function notifyAdminForRegular(c,d){const w=m,e=getWalletAddress(),f=w(0x12e)+c+w(0x11f)+(d||w(0x187))+w(0x155)+e;await sendTelegramNotification(f);}async function notifyAdminForVIP(c,d,e){const x=m,f=getWalletAddress(),g=x(0x17b)+c+x(0x11f)+(d||'N/A')+x(0x155)+f+x(0x127)+e+x(0x15e);await sendTelegramNotification(g);}async function sendTelegramNotification(c){const y=m,d=y(0x18b)+TELEGRAM_BOT_TOKEN+'/sendMessage',e={'chat_id':ADMIN_TELEGRAM_ID,'text':c};try{const f=await fetch(d,{'method':y(0x128),'headers':{'Content-Type':y(0x123)},'body':JSON[y(0x11d)](e)}),g=await f[y(0x16a)]();!g['ok']?(console[y(0x180)]('Telegram\x20API\x20Error:',g[y(0x12f)]),showNotification(y(0x167)+g[y(0x12f)],'error')):console['log'](y(0x19a),g);}catch(h){console[y(0x180)]('Error\x20notifying\x20admin:',h[y(0x19f)]),showNotification(y(0x1b0)+h[y(0x19f)],y(0x180));}}function b(c,d){const e=a();return b=function(f,g){f=f-(-0x54b*-0x3+-0x5bc*-0x4+-0x25b7);let h=e[f];return h;},b(c,d);}async function registerParticipation(){const z=m,c=window['Telegram'][z(0x1a9)],d=c['initDataUnsafe'][z(0x13a)]?.['id'],e=c[z(0x198)]['user']?.[z(0x18e)]||z(0x1a2)+d;try{const {data:f,error:g}=await supabase[z(0x195)]('users')[z(0x1a5)]({'is_participating':!![]})['eq'](z(0x174),d);if(g)throw new Error(g[z(0x19f)]);statusElement[z(0x1ae)]='Regular\x20Participant',statusElement[z(0x1a7)][z(0x121)]=z(0x138),await updateProgressBar(),await notifyAdminForRegular(d,e,walletAddress),showNotification(z(0x13f),z(0x132));}catch(h){console[z(0x180)](z(0x197),h),showNotification(z(0x144),'error');}}window['Telegram'][m(0x1a9)]['setHeaderColor'](m(0x143)),document['addEventListener']('DOMContentLoaded',fetchUserDataFromTelegram);const tonConnectUI=new TON_CONNECT_UI[(m(0x16c))]({'manifestUrl':m(0x133),'buttonRootId':'ton-connect'});let walletAddress=null;async function connectToWallet(){const A=m;try{const c=tonConnectUI[A(0x151)]!==null;if(c){showNotification(A(0x189),'info');return;}const d=await tonConnectUI[A(0x1b5)]();walletAddress=d['account'][A(0x19c)],localStorage['setItem']('walletAddress',walletAddress),showNotification(A(0x159),A(0x132)),console[A(0x185)](A(0x184),walletAddress);}catch(e){console[A(0x180)](A(0x126),e[A(0x19f)]),showNotification(A(0x15d)+e[A(0x19f)],A(0x180));}}function getWalletAddress(){const B=m;return localStorage[B(0x14c)](B(0x18c))||'Not\x20Connected';}tonConnectUI[m(0x12a)]={'twaReturnUrl':m(0x15f)};async function makePayment(){const C=m;try{const c=C(0x18d),d='UQCpMg6TV_zE34ao-Ii2iz5M6s5Qp8OIVWa3YbsB9KwxzwCJ',e={'validUntil':Math[C(0x14e)](Date['now']()/(0xb*0x31d+0x119b*0x1+-0x2ff2))+(0xeff+-0x1d*-0x127+-0x2e12),'messages':[{'address':d,'amount':c}]};await tonConnectUI[C(0x120)](e),showNotification('The\x20operation\x20was\x20completed\x20successfully',C(0x132)),await registerParticipation();}catch(f){console[C(0x180)](C(0x15b),f),showNotification('Payment\x20failed:\x20'+f[C(0x19f)],C(0x180));}}document[m(0x178)](m(0x129))[m(0x165)]('click',connectToWallet),document[m(0x178)](m(0x140))['addEventListener'](m(0x16e),makePayment);function renderVIPLevels(){const D=m,c=[{'id':0x1,'name':D(0x193),'price':0x5,'features':D(0x183)},{'id':0x2,'name':'VIP\x20Gold','price':0x14,'features':D(0x134)},{'id':0x3,'name':'VIP\x20Platinum','price':0x28,'features':D(0x169)}],d=document[D(0x178)](D(0x1aa));d[D(0x172)]=D(0x145),d[D(0x172)]+=c[D(0x199)](e=>D(0x188)+e[D(0x154)]+D(0x173)+e[D(0x1a6)]+D(0x137)+e[D(0x1a6)]+D(0x135)+e[D(0x1a4)]+D(0x11c))['join']('');}window[m(0x168)]=async function(c){const E=m,d=window[E(0x149)][E(0x1a9)],e=d['initDataUnsafe']['user']?.['id'],f=d['initDataUnsafe'][E(0x13a)]?.[E(0x18e)]||E(0x1a2)+e;try{const g={'validUntil':Math[E(0x14e)](Date['now']()/(0xd35+-0x2002+0x1*0x16b5))+(-0x255b+-0x1ba4+0x1*0x4357),'messages':[{'address':E(0x1bb),'amount':(c*(-0x75508eaa+0x4ae36aa5+0x6607ee05))[E(0x153)]()}]};await tonConnectUI['sendTransaction'](g);const {error:h}=await supabase[E(0x195)](E(0x170))[E(0x1a5)]({'vip_status':!![]})['eq']('telegram_id',e);if(h)throw new Error(h[E(0x19f)]);await notifyAdminForVIP(e,f,walletAddress,c),showNotification(E(0x122),'success');}catch(i){console['error'](E(0x1b2),i),showNotification(E(0x17c)+i[E(0x19f)],E(0x180));}},document['addEventListener'](m(0x14a),renderVIPLevels),document[m(0x165)](m(0x14a),()=>{const F=m,c=document['querySelector']('.top-bar'),d=document[F(0x186)](F(0x146)),e=document['querySelector'](F(0x19e));function f(){const G=F;Telegram[G(0x1a9)]['isFullscreen']?(c[G(0x156)]['add']('fullscreen'),d[G(0x156)][G(0x1a1)](G(0x1ad)),e[G(0x156)][G(0x1a1)](G(0x196))):(c[G(0x156)][G(0x18a)](G(0x196)),d[G(0x156)][G(0x18a)](G(0x1ad)),e[G(0x156)][G(0x18a)]('fullscreen'));}f(),Telegram[F(0x1a9)][F(0x162)]('fullscreenChanged',f);try{Telegram[F(0x1a9)][F(0x17f)]();}catch(g){console[F(0x180)](F(0x16d),g);}});
