const n=b;function a(){const D=['\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22Statustxtvip\x22>\x20Get\x20more\x20chances\x20to\x20win\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22Statustxtprogressvip\x22>\x20VIP\x20subscriptions\x20allow\x20you\x20to\x20increase\x20your\x20chances\x20of\x20winning\x20the\x20weekly\x20lottery\x20</p>\x0a\x0a\x20\x20\x20\x20','participantCount','#2D83EC','ton-connect','Statustxtprogress','createElement','114MvmMUF','VIP\x20Platinum','500000000','initDataUnsafe','vip_status','5045jpESLB','now','VIP\x20subscription\x20failed:\x20','map','You\x20have\x20no\x20chances\x20to\x20win!\x20Join\x20now\x20and\x20seize\x20your\x20opportunity!','setHeaderColor','json','mousedown','Error\x20subscribing\x20to\x20VIP:','payNow','width','error','337FKuCaJ','Telegram','The\x20operation\x20was\x20completed\x20successfully','https://t.me/SAWCOIN_BOT/GAME','style','textContent','from','telegram_id','\x0a\x0aðŸ“›\x20Username:\x20@','WebApp','Error\x20fetching\x20Telegram\x20data:','red','select','success','7540338527:AAH4A_gOp_FTR3jRdtNa-QcfCCLRMIN0FDo','toString','Failed\x20to\x20connect\x20wallet.','description','is_participating','You\x27re\x20ahead\x20of\x2050%\x20of\x20participants!\x20Keep\x20going,\x20your\x20victory\x20is\x20within\x20reach!','info','Failed\x20to\x20fetch\x20Telegram\x20data.','uiOptions','Payment\x20failed:\x20','DOMContentLoaded','none','balance','getElementById','user','querySelectorAll','\x20TON','wallet','application/json','10IlscNo','/sendMessage','Not\x20Participated','Error\x20fetching\x20user\x20balance:','Error\x20updating\x20participation:','</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20','features','className','floor','Error\x20connecting\x20wallet:','message','POST','VIP\x20Silver','toFixed','contextmenu','click','Failed\x20to\x20update\x20progress\x20bar.',')\x22>Subscribe</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22vip-features\x22>Features:\x20','12094472KTdJof','Failed\x20to\x20fetch\x20user\x20balance.','notification','linear-gradient(to\x20right,\x20#FFD700,\x20#8A2BE2)','addEventListener','Error','Error\x20updating\x20progress\x20bar:','Regular\x20Participant','users','block','17067171xPSLtA','body','display','13435047SftZWo','slice','img,\x20p','username','user_','2490EuGvAg','vipSection','Wallet\x20is\x20already\x20connected.','price','Error\x20notifying\x20admin:','innerHTML','appendChild','2342179LDQFsu','text','single','color','backgroundClip','Failed\x20to\x20fetch\x20Telegram\x20user\x20ID.','...','17468thjSUG','update','ðŸŸ¢\x20New\x20Participation:\x0a\x0aðŸ‘¤\x20ID:\x20','No\x20balance\x20found\x20for\x20this\x20user.','join','paymentSection','min','length','preventDefault','sendTransaction','\x20TON</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22subscribeVIP(','https://api.telegram.org/bot','backgroundImage','Error\x20making\x20payment:','2218baigeH','\x20show','name','Premium\x20perks\x20and\x20maximum\x20chances.','UQBOBIEGLWuaMNLBy3HTaYU-F-3Py8q7o0kGw7S_2vLxRmqr','connectWallet','</h3>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22vip-Price\x22>\x20Price\x20:\x20','\x0a\x0aðŸŒŸ\x20VIP\x20Status:\x20No'];a=function(){return D;};return a();}(function(c,d){const m=b,e=c();while(!![]){try{const f=parseInt(m(0x1d3))/(-0x106+0x7*-0x3e+0x2b9)*(-parseInt(m(0x234))/(-0x1*0xef3+-0x1a51*0x1+0x2946))+-parseInt(m(0x1c2))/(0x16ed*-0x1+-0x1044+0x2734)*(parseInt(m(0x226))/(-0x244*-0x4+-0x4ff*-0x1+0x1*-0xe0b))+-parseInt(m(0x1c7))/(0x1535+-0xbe5+-0x94b)*(parseInt(m(0x218))/(0x2e3*-0x4+0x231e+-0x178c))+parseInt(m(0x21f))/(-0x30*-0x58+0x34f+-0x1*0x13c8)+parseInt(m(0x206))/(0x1db3+0x1*-0x17e1+-0x5ca)+parseInt(m(0x213))/(-0x12c8+-0x29*-0x81+0x76*-0x4)*(-parseInt(m(0x1f4))/(-0xc54+0x6e1+-0x5*-0x119))+parseInt(m(0x210))/(-0x96a+0xf2a+-0x5b5);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,-0x2aa*-0x236+0x45ee*0x44+-0xa04c2));const TELEGRAM_BOT_TOKEN=n(0x1e1),ADMIN_TELEGRAM_ID=0x1f1b03c21+0x5*0x5414662f+0x18bfcc*-0x14bc,paymentSection=document[n(0x1ee)](n(0x22b)),usernameElement=document['getElementById'](n(0x216)),balanceElement=document[n(0x1ee)](n(0x1ed)),statusElement=document['getElementById']('participationStatus'),progressBar=document[n(0x1ee)]('progress'),progressText=document[n(0x1ee)](n(0x1bd)),notification=document[n(0x1c1)]('div');notification['className']='notification',document[n(0x211)][n(0x21e)](notification);function showNotification(c,d='error'){const o=n;notification[o(0x1d8)]=c,notification['className']='notification\x20'+d+o(0x235),setTimeout(()=>{const p=o;notification[p(0x1fb)]=p(0x208);},0x3a*-0x3d+0x31d*0x7+-0x7*-0x89);}function formatUsername(c){const q=n,d=-0xc72+0xcd3*-0x1+-0x4e*-0x53;return c[q(0x22d)]>d?c[q(0x214)](0xda1+-0x1314+-0x5*-0x117,d)+q(0x225):c;}function formatBalance(c){const r=n;if(c>=-0x6809624db5+0x5b624b3187+0xf57bbc2c2e)return(c/(0xf4494ac145+0x14fd1b7*0xed2+-0x1ee597bb63))[r(0x201)](-0x1445*0x1+-0xe*0x94+0x327*0x9)+'T';else{if(c>=0x5a1b764+0x2380deea*-0x1+0x1*0x5979f186)return(c/(-0x66248a43*0x1+0x475e33d9+0x5a61206a))[r(0x201)](-0x21*-0xd+-0x24ad+0x1181*0x2)+'B';else{if(c>=-0x1eb*-0x2f9+-0x1121a1+0x1ab04e)return(c/(-0x645ff+-0xc*-0xddac+-0x1*-0xb242f))['toFixed'](-0x1da9+-0xa8f+-0x141d*-0x2)+'M';else{if(c>=0x1*-0x29a+-0x20e+0x4*0x224)return(c/(0x871+0x15e8+-0x1a71))['toFixed'](0x1d8a+0x1308+-0x150*0x25)+'K';}}}return c[r(0x1e2)]();}async function fetchUserDataFromTelegram(){const s=n;try{const c=window['Telegram']['WebApp'];c['ready']();const d=c['initDataUnsafe']['user']?.['id'],e=c[s(0x1c5)][s(0x1ef)]?.[s(0x216)]||s(0x217)+d;if(!d)throw new Error(s(0x224));usernameElement[s(0x1d8)]=formatUsername(e),await fetchUserBalance(d),await updateProgressBar();}catch(f){console[s(0x1d2)](s(0x1dd),f),showNotification(s(0x1e8),'error');}}async function fetchUserBalance(c){const t=n;try{const {data:d,error:e}=await supabase[t(0x1d9)](t(0x20e))[t(0x1df)]('balance,\x20is_participating,\x20vip_status')['eq'](t(0x1da),c)[t(0x221)]();if(e)throw new Error(e[t(0x1fe)]);if(d){balanceElement[t(0x1d8)]=formatBalance(d['balance']);const f=document[t(0x1ee)](t(0x1c0));if(d[t(0x1c6)])statusElement[t(0x1d8)]='VIP\x20Participant',statusElement[t(0x1d7)][t(0x232)]=t(0x209),statusElement[t(0x1d7)][t(0x222)]='transparent',statusElement[t(0x1d7)][t(0x223)]=t(0x220),f[t(0x1d8)]='You\x27re\x20ahead\x20of\x2080%\x20of\x20all\x20participants!\x20Get\x20ready\x20to\x20win\x20big!',paymentSection[t(0x1d7)][t(0x212)]=t(0x1ec),document['getElementById'](t(0x219))['style']['display']=t(0x1ec);else d[t(0x1e5)]?(statusElement[t(0x1d8)]=t(0x20d),statusElement[t(0x1d7)][t(0x222)]='#2D83EC',f[t(0x1d8)]=t(0x1e6),paymentSection['style'][t(0x212)]=t(0x1ec)):(statusElement[t(0x1d8)]=t(0x1f6),statusElement['style'][t(0x222)]=t(0x1de),f['textContent']=t(0x1cb),paymentSection[t(0x1d7)][t(0x212)]=t(0x20f));}else balanceElement[t(0x1d8)]='0',showNotification(t(0x229),'error');}catch(g){console[t(0x1d2)](t(0x1f7),g),balanceElement[t(0x1d8)]=t(0x20b),showNotification(t(0x207),'error');}}async function updateProgressBar(){const u=n;try{const {data:c,error:d}=await supabase[u(0x1d9)]('users')['select']('*')['eq']('is_participating',!![]);if(d)throw new Error(d[u(0x1fe)]);const {data:e,error:f}=await supabase[u(0x1d9)](u(0x20e))[u(0x1df)]('*')['eq']('vip_status',!![]);if(f)throw new Error(f['message']);const g=0xca4+-0x25c8+0x1d3e,h=c[u(0x22d)]+e[u(0x22d)]*(-0xc23*-0x2+0x2*-0x89b+0x259*-0x3)+g,i=0x2e7+-0x587*0x6+0x3d83,j=Math[u(0x22c)](h/ i*(0xbdf+0x1*-0x1395+-0x2*-0x40d),-0x14c3+0x148*-0x13+0x2d7f*0x1);progressText[u(0x1d8)]=h+'\x20Participants',progressBar['style'][u(0x1d1)]=j+'%',h>=i&&showNotification('The\x20minimum\x20participants\x20have\x20been\x20reached!',u(0x1e0));}catch(k){console[u(0x1d2)](u(0x20c),k),showNotification(u(0x204),u(0x1d2));}}import{createClient}from'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';import{SUPABASE_URL,SUPABASE_ANON_KEY}from'./Scripts/config.js';const supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY);async function notifyAdmin(c,d,e=![],f=-0x7c3*0x2+0x2316+-0x1390){const v=n;let g=v(0x228)+c+v(0x1db)+d;e?g+='\x0a\x0aðŸŒŸ\x20VIP\x20Status:\x20Yes\x0a\x0aðŸ’°\x20Amount\x20Paid:\x20'+f+v(0x1f1):g+=v(0x1bb);const h=v(0x231)+TELEGRAM_BOT_TOKEN+v(0x1f5),i={'chat_id':ADMIN_TELEGRAM_ID,'text':g};try{const j=await fetch(h,{'method':v(0x1ff),'headers':{'Content-Type':v(0x1f3)},'body':JSON['stringify'](i)}),k=await j[v(0x1cd)]();if(!k['ok'])throw new Error(k[v(0x1e4)]);console['log']('Admin\x20notified\x20successfully:',k);}catch(l){console[v(0x1d2)](v(0x21c),l[v(0x1fe)]);}}async function registerParticipation(){const w=n,c=window['Telegram']['WebApp'],d=c[w(0x1c5)][w(0x1ef)]?.['id'],e=c[w(0x1c5)]['user']?.[w(0x216)]||w(0x217)+d;try{const {data:f,error:g}=await supabase[w(0x1d9)]('users')[w(0x227)]({'is_participating':!![]})['eq'](w(0x1da),d);if(g)throw new Error(g['message']);statusElement[w(0x1d8)]=w(0x20d),statusElement['style'][w(0x222)]=w(0x1be),await updateProgressBar(),await notifyAdmin(d,e,![]),showNotification('Participation\x20confirmed\x20successfully!','success');}catch(h){console[w(0x1d2)](w(0x1f8),h),showNotification('Failed\x20to\x20register\x20participation.',w(0x1d2));}}window['Telegram'][n(0x1dc)][n(0x1cc)]('#101010'),document[n(0x20a)](n(0x1eb),fetchUserDataFromTelegram);const tonConnectUI=new TON_CONNECT_UI['TonConnectUI']({'manifestUrl':'https://sawcoin.vercel.app/json/tonconnect-manifest.json','buttonRootId':n(0x1bf)});async function connectToWallet(){const x=n;try{const c=tonConnectUI[x(0x1f2)]!==null;if(c){showNotification(x(0x21a),x(0x1e7));return;}const d=await tonConnectUI[x(0x1b9)]();console['log'](d),showNotification('Wallet\x20connected\x20successfully','success');}catch(e){console['error'](x(0x1fd),e),showNotification(x(0x1e3),x(0x1d2));}}tonConnectUI[n(0x1e9)]={'twaReturnUrl':n(0x1d6)};async function makePayment(){const y=n;try{const c=y(0x1c4),d=y(0x1b8),e={'validUntil':Math[y(0x1fc)](Date[y(0x1c8)]()/(-0x1d*-0x83+-0x2b+0x1*-0xac4))+(-0x8a*0xc+-0x1a7a+0x234a),'messages':[{'address':d,'amount':c}]};await tonConnectUI[y(0x22f)](e),showNotification(y(0x1d5),y(0x1e0)),await registerParticipation();}catch(f){console[y(0x1d2)](y(0x233),f),showNotification(y(0x1ea)+f[y(0x1fe)],y(0x1d2));}}document['getElementById'](n(0x1bf))['addEventListener'](n(0x203),connectToWallet),document[n(0x1ee)](n(0x1d0))['addEventListener']('click',makePayment);function renderVIPLevels(){const z=n,c=[{'id':0x1,'name':z(0x200),'price':0x5,'features':'Basic\x20perks\x20and\x20increased\x20chances.'},{'id':0x2,'name':'VIP\x20Gold','price':0x14,'features':'Enhanced\x20perks\x20and\x20increased\x20chances.'},{'id':0x3,'name':z(0x1c3),'price':0x28,'features':z(0x1b7)}],d=document['getElementById']('vipSection');d[z(0x21d)]=z(0x1bc),d[z(0x21d)]+=c[z(0x1ca)](e=>'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22vip-level\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+e[z(0x236)]+z(0x1ba)+e[z(0x21b)]+z(0x230)+e[z(0x21b)]+z(0x205)+e[z(0x1fa)]+z(0x1f9))[z(0x22a)]('');}function b(c,d){const e=a();return b=function(f,g){f=f-(-0x8d6+-0xbc+0xb49);let h=e[f];return h;},b(c,d);}window['subscribeVIP']=async function(c){const A=n,d=window[A(0x1d4)][A(0x1dc)],e=d[A(0x1c5)][A(0x1ef)]?.['id'],f=d[A(0x1c5)][A(0x1ef)]?.['username']||A(0x217)+e;try{const g={'validUntil':Math['floor'](Date[A(0x1c8)]()/(-0x15a8+-0x8*0x44f+-0xf02*-0x4))+(0x996+0x47*0x1+-0x785),'messages':[{'address':'UQBOBIEGLWuaMNLBy3HTaYU-F-3Py8q7o0kGw7S_2vLxRmqr','amount':(c*(-0x3d55889b+-0xd69bdca+0x865a1065))[A(0x1e2)]()}]};await tonConnectUI['sendTransaction'](g);const {error:h}=await supabase[A(0x1d9)]('users')['update']({'vip_status':!![]})['eq']('telegram_id',e);if(h)throw new Error(h[A(0x1fe)]);await notifyAdmin(e,f,!![],c),showNotification('VIP\x20subscription\x20successful!','success');}catch(i){console['error'](A(0x1cf),i),showNotification(A(0x1c9)+i[A(0x1fe)],A(0x1d2));}},document[n(0x20a)](n(0x1eb),renderVIPLevels),document['addEventListener'](n(0x202),function(c){const B=n;c[B(0x22e)]();}),document[n(0x1f0)](n(0x215))['forEach'](c=>{const C=n;c[C(0x20a)](C(0x1ce),d=>d['preventDefault']()),c[C(0x20a)]('touchstart',d=>d[C(0x22e)]());});
